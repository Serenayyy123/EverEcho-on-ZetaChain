# TaskEscrowåŒé‡æ‰£è´¹ä¿®å¤åéƒ¨ç½²æŒ‡å—

## æ¦‚è¿°
TaskEscrowåˆçº¦ä¿®å¤åï¼Œéœ€è¦é‡æ–°éƒ¨ç½²åˆçº¦å’Œæ›´æ–°å‰ç«¯ï¼Œä½†åç«¯æœåŠ¡æ— éœ€å˜æ›´ã€‚

## ğŸ”§ éœ€è¦é‡æ–°éƒ¨ç½²çš„ç»„ä»¶

### 1. æ™ºèƒ½åˆçº¦éƒ¨ç½² (å¿…é¡»)

#### æœ¬åœ°æµ‹è¯•ç½‘éƒ¨ç½²
```bash
# å¯åŠ¨æœ¬åœ°Hardhatç½‘ç»œ
npx hardhat node

# é‡æ–°éƒ¨ç½²TaskEscrowåˆçº¦
npx hardhat run scripts/deploy.ts --network localhost
```

#### ZetaChain Athensæµ‹è¯•ç½‘éƒ¨ç½²
```bash
# éƒ¨ç½²åˆ°ZetaChain Athens
npx hardhat run scripts/deploy.ts --network zetachainAthens
```

### 2. å‰ç«¯åº”ç”¨éƒ¨ç½² (å¿…é¡»)

#### æ›´æ–°åˆçº¦åœ°å€
ä¿®å¤åéœ€è¦æ›´æ–° `frontend/src/contracts/addresses.ts` ä¸­çš„TaskEscrowåœ°å€ï¼š

```typescript
// æ›´æ–°ä¸ºæ–°éƒ¨ç½²çš„TaskEscrowåœ°å€
export function getContractAddresses(chainId: number): ContractAddresses {
  if (chainId === 31337) {
    return {
      taskEscrow: '0xæ–°çš„TaskEscrowåœ°å€', // æ›´æ–°è¿™é‡Œ
      echoToken: '0x5FbDB2315678afecb367f032d93F642f64180aa3',
      register: '0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512',
      universalReward: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9'
    };
  }
  // ... å…¶ä»–ç½‘ç»œé…ç½®
}
```

#### æ„å»ºå’Œéƒ¨ç½²å‰ç«¯
```bash
# å®‰è£…ä¾èµ–
cd frontend
npm install

# æ„å»ºå‰ç«¯åº”ç”¨
npm run build

# å¯åŠ¨å‰ç«¯æœåŠ¡
npm run dev
```

## âŒ æ— éœ€é‡æ–°éƒ¨ç½²çš„ç»„ä»¶

### 1. åç«¯æœåŠ¡
- åç«¯APIæ¥å£æ²¡æœ‰å˜åŒ–
- æ•°æ®åº“ç»“æ„æ²¡æœ‰å˜åŒ–
- å¯ä»¥ç»§ç»­ä½¿ç”¨ç°æœ‰çš„åç«¯æœåŠ¡

### 2. UniversalRewardåˆçº¦
- UniversalRewardåˆçº¦é€»è¾‘æ²¡æœ‰å˜åŒ–
- ç°æœ‰éƒ¨ç½²çš„UniversalRewardåˆçº¦å¯ä»¥ç»§ç»­ä½¿ç”¨
- åœ°å€é…ç½®ä¿æŒä¸å˜

### 3. å…¶ä»–åˆçº¦
- EOCHOTokenåˆçº¦æ— å˜åŒ–
- Registeråˆçº¦æ— å˜åŒ–
- EverEchoGatewayåˆçº¦æ— å˜åŒ–

## ğŸ” éªŒè¯éƒ¨ç½²

### 1. åˆçº¦éªŒè¯
```bash
# è¿è¡Œä¿®å¤éªŒè¯è„šæœ¬
npx hardhat run scripts/testDoubleChargingFix.ts --network localhost
```

### 2. å‰ç«¯éªŒè¯
- è®¿é—®å‰ç«¯åº”ç”¨
- æµ‹è¯•åˆ›å»ºè·¨é“¾å¥–åŠ±ä»»åŠ¡
- ç¡®è®¤åªæ‰£é™¤ECHOä»£å¸ï¼Œä¸å†åŒé‡æ‰£è´¹

### 3. é›†æˆæµ‹è¯•
- æµ‹è¯•å®Œæ•´çš„ä»»åŠ¡åˆ›å»ºæµç¨‹
- éªŒè¯TaskEscrowå’ŒUniversalRewardçš„èŒè´£åˆ†ç¦»
- ç¡®è®¤èµ„é‡‘æµæ­£ç¡®åˆ†ç¦»

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] é‡æ–°ç¼–è¯‘TaskEscrowåˆçº¦
- [ ] éƒ¨ç½²æ–°çš„TaskEscrowåˆçº¦åˆ°æ‰€æœ‰ç›®æ ‡ç½‘ç»œ
- [ ] æ›´æ–°å‰ç«¯åˆçº¦åœ°å€é…ç½®
- [ ] é‡æ–°æ„å»ºå‰ç«¯åº”ç”¨
- [ ] è¿è¡ŒéªŒè¯è„šæœ¬ç¡®è®¤ä¿®å¤ç”Ÿæ•ˆ
- [ ] æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æµç¨‹
- [ ] ç¡®è®¤åŒé‡æ‰£è´¹é—®é¢˜å·²è§£å†³

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åˆçº¦åœ°å€æ›´æ–°**ï¼šæ–°éƒ¨ç½²çš„TaskEscrowåˆçº¦åœ°å€éœ€è¦æ›´æ–°åˆ°å‰ç«¯é…ç½®ä¸­
2. **æ•°æ®è¿ç§»**ï¼šå¦‚æœæœ‰ç°æœ‰ä»»åŠ¡æ•°æ®ï¼Œéœ€è¦è€ƒè™‘æ•°æ®è¿ç§»ç­–ç•¥
3. **ç”¨æˆ·é€šçŸ¥**ï¼šé€šçŸ¥ç”¨æˆ·åˆçº¦åœ°å€å·²æ›´æ–°ï¼Œå¯èƒ½éœ€è¦é‡æ–°æˆæƒ
4. **æµ‹è¯•éªŒè¯**ï¼šåœ¨ç”Ÿäº§éƒ¨ç½²å‰ï¼ŒåŠ¡å¿…åœ¨æµ‹è¯•ç½‘å……åˆ†éªŒè¯ä¿®å¤æ•ˆæœ

## ğŸ¯ é¢„æœŸç»“æœ

éƒ¨ç½²å®Œæˆåï¼š
- âœ… TaskEscrowåªå¤„ç†ECHOä»£å¸æ‰£è´¹
- âœ… UniversalRewardç‹¬ç«‹å¤„ç†è·¨é“¾ä»£å¸
- âœ… ç”¨æˆ·ä¸å†è¢«åŒé‡æ”¶è´¹
- âœ… ç³»ç»ŸèŒè´£åˆ†ç¦»æ¸…æ™°
- âœ… ç°æœ‰åŠŸèƒ½ä¿æŒæ­£å¸¸å·¥ä½œ