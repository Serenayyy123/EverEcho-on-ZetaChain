# P0-F1 钱包连接与注册 — 快速开始指南

## 🚀 5 分钟快速启动

### 1. 安装依赖

```bash
cd frontend
npm install
```

### 2. 配置环境变量

```bash
cp .env.example .env
```

编辑 `.env` 文件（使用默认值或替换为实际地址）：

```env
VITE_API_URL=http://localhost:3000
VITE_REGISTER_ADDRESS=0x5FbDB2315678afecb367f032d93F642f64180aa3
VITE_EOCHO_TOKEN_ADDRESS=0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
VITE_TASK_ESCROW_ADDRESS=0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0
VITE_CHAIN_ID=31337
VITE_NETWORK_NAME=Localhost
```

### 3. 启动前端

```bash
npm run dev
```

访问 http://localhost:5173

### 4. 启动 Backend（另一个终端）

```bash
cd backend
npm run dev
```

Backend 运行在 http://localhost:3000

### 5. 部署合约（如果还未部署）

```bash
# 启动本地节点
npx hardhat node

# 部署合约（另一个终端）
npx hardhat run scripts/deploy.ts --network localhost
```

更新 `.env` 中的合约地址

---

## 📋 测试流程

### 场景 1：新用户注册

1. 打开 http://localhost:5173
2. 点击 "Connect Wallet"
3. MetaMask 授权
4. 自动跳转到注册页
5. 填写表单：
   - Nickname: Alice
   - City: Beijing
   - Skills: 选择几个技能
6. 点击 "Register"
7. MetaMask 确认交易
8. 等待确认
9. 自动跳转到任务广场

### 场景 2：已注册用户

1. 使用已注册的地址连接钱包
2. 自动跳转到任务广场
3. 显示欢迎信息

---

## 🎯 关键功能

### ✅ 已实现

- 钱包连接（MetaMask）
- 注册状态检查
- 用户注册表单
- 加密密钥生成
- Profile 上传
- 合约调用
- 错误处理

### ❌ 未实现（后续薄片）

- 任务广场业务
- Profile 更新
- 任务发布/接取

---

## 🔧 技术栈

- React 18 + TypeScript
- Vite
- ethers.js v6
- React Router v6
- tweetnacl

---

## 📚 详细文档

- `frontend/README.md` - 完整使用文档
- `P0-F1_实现总结.md` - 实现细节和验收报告

---

## ❓ 常见问题

### MetaMask 未安装

安装 MetaMask 浏览器扩展：https://metamask.io

### Backend 连接失败

确保 backend 运行在 http://localhost:3000

### 合约调用失败

1. 检查合约地址是否正确
2. 检查 MetaMask 网络是否匹配
3. 检查账户是否有足够的 ETH（gas）

---

## 🎉 完成！

现在你可以：
1. 连接钱包
2. 注册用户
3. 查看任务广场（占位页）

后续薄片将实现完整的任务广场功能。
